---
title: 批处理指南
tags: work
grammar_cjkRuby: true
grammar_mermaid: true
---

### 读取命令输出并判断字符串


---

判断变量是否存在值

```bash

for /f "delims=" %%i in ('node -v') do set str=%%i

if "%str%" == "" (
    echo 未安装nodejs
    goto insNode
) else (
    echo 已安装nodejs
    echo 检查nodejs版本
)

```

---

```bash
@echo off
for /f "delims=" %%i in ('node -v') do set str=%%i

echo %str%|find "^v6.9"> nul
if %errorlevel% equ 0 (
    echo 请卸载现有nodejs程序，并重新运行本批处理命令
) else (
    echo 匹配到6.9版本
    echo 跳过nodejs安装
)

```

---


```bash
rem 删除文件夹

rd /q /s foldr
del file


rem 自己调用自身
set /p input=请输入A或者B:
if "%input%" == "A" (
    call this.bat
) else (
    echo your type B
)
pause

```

配置方法判断
判断是否安装node，如果没有安装，则安装
如果已经安装，判断版本，如果低于6.9的版本，要求自行删除，然后重新运行bat
判断是否已经安装yo和rainbowUIcli，如果有，则跳过

 1. 安装nodejs
 2. 注册node私有仓库
 3. 全局安装yo脚手架
 4. 全局安装rainbowUIcli
 5. 新建RainbowUI文件夹
 6. 进入RainbowUI文件夹
 7. 搭建rainbowUI程序
 8. 执行npn run dev

